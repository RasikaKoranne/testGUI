<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_HTML5___Top_Navigation" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../" data-mc-has-content-body="True" data-mc-toc-path="Installation" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="print">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../Skins/Favicons/browserconfig.xml" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" /><title>Upgrading WhereScape RED</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../Resources/Stylesheets/wmd-onlinehelp-style.css" rel="stylesheet" type="text/css" />
        <link href="../Resources/tablestyles/note.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="icon" sizes="16x16" href="../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" role="banner" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../external_help/About.htm" alt="Logo"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <div class="nocontent">
                                        <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
                                        </div>
                                    </div>
                                    <div role="main" id="mc-main-content">
                                        <h1 class="Major_Section_Heading">Upgrading <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> <span class="mc-variable WS_Branding.Product variable">RED</span></h1>
                                        <h2 class="NoTocEntry"><span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> Versions</h2>
                                        <p><span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> <span class="mc-variable WS_Branding.Product variable">RED</span> has a four part version number normally shown as xx.xx.xx.xx. An example of this may be 8.3.1.0. The first number represents the major release. The second number represents the metadata repository version. The third and fourth numbers relate to application specific releases.</p>
                                        <p>From the example above, we see that the current version is version 8 of <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> <span class="mc-variable WS_Branding.Product variable">RED</span>. We are on version 8.3 of the metadata repository.</p>
                                        <h2 class="NoTocEntry">Metadata Changes</h2>
                                        <p>A change from a 8.2.. release to a 8.3.. release would indicate a change in the metadata tables. All metadata changes are non-destructive. They simply add new columns or new meta tables. In this way they can be applied without harming an existing metadata repository. The impact of a metadata change is that the associated applications (namely the <span class="mc-variable WS_Branding.Product variable">RED</span> executable, the Scheduler, security module, etc.) needs to be at the same metadata version. Therefore, an 8.2.1.0 version of <span class="mc-variable WS_Branding.Product variable">RED</span> may not successfully run against a version 8.3 metadata repository.</p>
                                        <h2 class="NoTocEntry">Application changes</h2>
                                        <p>The final two numbers in the version represent application releases. Applications are deemed to be all of the executable images supplied with <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> <span class="mc-variable WS_Branding.Product variable">RED</span> as well as the UNIX scheduler scripts and the stored procedures. Application changes reflect enhancements and bug fixes. A change in the first number indicates a major enhancement in one of the application components.</p>
                                        <h2>Upgrading <span class="mc-variable WS_Branding.Product variable">RED</span></h2>
                                        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/tablestyles/note.css');" class="TableStyle-note" cellspacing="0">
                                            <col class="TableStyle-note-Column-Column1" />
                                            <thead>
                                                <tr class="TableStyle-note-Head-Header1">
                                                    <th class="TableStyle-note-HeadD-Column1-Header1">Notes:</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="TableStyle-note-Body-Body1">
                                                    <td class="TableStyle-note-BodyA-Column1-Body1" role="rowheader">
                                                        <ul>
                                                            <li>Ensure that you have made a backup your metadata before performing the upgrade.</li>
                                                            <li>Ensure you also upgrade the <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> <span class="mc-variable WS_Branding.Product variable">RED</span> scheduler. The old scheduler must be stopped prior to the upgrade and a new scheduler must be setup after <span class="mc-variable WS_Branding.Product variable">RED</span> is installed. </li>
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <p>Upgrading <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> <span class="mc-variable WS_Branding.Product variable">RED</span> consists of the following steps:</p>
                                        <ol>
                                            <li value="1">Allow any active jobs to complete. Halting active jobs will allow running tasks to complete with no new tasks starting. Aborting active jobs will kill any running tasks and stop running jobs.</li>
                                            <li value="2">Stop all schedulers. Windows schedulers can be stopped with <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span>'s Setup Administrator. To stop a UNIX or Linux scheduler, kill the active scheduler process and comment their crontab entries (to stop the scheduler re-starting itself).</li>
                                            <li value="3">Close any <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span> programs that are running on your machine.</li>
                                            <li value="4">Back up your metadata.</li>
                                            <li value="5">Install the new version of <span class="mc-variable WS_Branding.Product variable">RED</span> on your machine.</li>
                                            <li value="6">In <span class="mc-variable WS_Branding.Product variable">RED</span> Setup Administrator, select the Validate Metadata Repository option. This function may re-compile existing or create new metadata procedures; metadata tables may be altered, or new tables created.</li>
                                            <li value="7">When performing an upgrade of <span class="mc-variable WS_Branding.Product variable">RED</span>:<ul style="list-style-type: circle;"><li>Click <b>OK</b> when prompted to validate metadata tables.</li><li>Click <b>Yes</b> when prompted to re-create metadata views.</li><li>Click <b>Yes</b> when prompted to re-compile metadata procedures.</li></ul><table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/tablestyles/note.css');" class="TableStyle-note" cellspacing="0"><col class="TableStyle-note-Column-Column1" /><thead><tr class="TableStyle-note-Head-Header1"><th class="TableStyle-note-HeadD-Column1-Header1">Warning</th></tr></thead><tbody><tr class="TableStyle-note-Body-Body1"><td class="TableStyle-note-BodyA-Column1-Body1" role="rowheader"> If the above steps are not all completed during an upgrade, the metadata may be left in an inconsistent state.</td></tr></tbody></table></li>
                                            <li value="8">For Oracle metadata updates, see the note below on <b>recompiling Oracle invalid procedures</b> during a <span class="mc-variable WS_Branding.Product variable">RED</span> upgrade.</li>
                                            <li value="9">Back up your metadata again (just in case).</li>
                                            <li value="10">If using a UNIX or Linux scheduler and this is a major application enhancement, then rename the wsl/bin directory to say wsl/bin_versionxxxxxx. Create a new bin directory and ftp over the files under the UNIX directory (see the main install instructions). Change the protections on the files (chmod 750 *.sh).</li>
                                            <li value="11">Restart all schedulers. Windows schedulers can be restarted with <span class="mc-variable WS_Branding.CompanyShortName variable">WhereScape</span>'s Setup Administrator. For any UNIX or Linux schedulers, uncomment any commented out crontab entriesâ€” this is enough to restart the schedulers.</li>
                                            <li value="12">Restart any halted or aborted jobs.<table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../Resources/tablestyles/note.css');" class="TableStyle-note" cellspacing="0"><col class="TableStyle-note-Column-Column1" /><thead><tr class="TableStyle-note-Head-Header1"><th class="TableStyle-note-HeadD-Column1-Header1">Notes:</th></tr></thead><tbody><tr class="TableStyle-note-Body-Body1"><td class="TableStyle-note-BodyA-Column1-Body1" role="rowheader"><ol style="list-style-type: lower-roman;"><li style="color: #d7454b;" value="1">There are different versions of the scripts for each database and for UNIX versus Linux. You should also be looking in the sub directory with the highest version number.<p style="color: #d7454b;"><img src="../Images/Install_Images/RED_oracleapp.png" /> When using a UNIX/Linux scheduler for Oracle, it is recommended that users copy the new meta_backup_680.sh file to use Datapump's expdb/impd instead the deprecated exp/imp tools.</p><p style="color: #d7454b;">This version uses the data pump export executables expdp/impdp. It assumes that the scheduler and the Oracle database reside on the same server.</p></li></ol><ol style="list-style-type: lower-roman;" data-mc-continue="true"><li style="color: #d7454b;" value="2">Metadata tables do not change between minor releases, but metadata procedure often and usually do change.</li><li style="color: #d7454b;" value="3"><span class="mc-variable WS_Branding.Product variable">RED</span> will not let you sign into an old repository version using a newer version of <span class="mc-variable WS_Branding.Product variable">RED</span>.</li><li style="color: #d7454b;" value="4"><span class="mc-variable WS_Branding.Product variable">RED</span> will let you sign into a new repository version using an older version of <span class="mc-variable WS_Branding.Product variable">RED</span> but it will warn you that this may potentially cause issues.</li><li style="color: #d7454b;" value="5">It is very important when using the Windows scheduler to have the installed <span class="mc-variable WS_Branding.Product variable">RED</span> version on the scheduler server EXACTLY matching the stored procedures.</li><li style="color: #d7454b;" value="6">Side by side installations are possible (two versions in two directories on the same machine), but be careful with schedulers. If you install the new version of <span class="mc-variable WS_Branding.Product variable">RED</span> in a new directory, you must remove and reinstall all Windows schedulers in order for the scheduler(s) to use the new version of <span class="mc-variable WS_Branding.Product variable">RED</span>.</li><li style="color: #d7454b;" value="7">As a general rule, the UNIX and Linux scheduler scripts, metadata tables/procedures and <span class="mc-variable WS_Branding.Product variable">RED</span> front end should all be in sync.</li><li style="color: #d7454b;" value="8">If the scripts for the UNIX or Linux scheduler have changed, you should replace files in your old and new shell scripts in the WhereScape Program Files directory and see if any have changed.</li></ol></td></tr></tbody></table></li>
                                        </ol>
                                        <h3 class="NoTocEntry">Oracle Invalid Procedures</h3>
                                        <p>When validating an Oracle Metadata Repository, select the <b>Recompile any invalid procedures</b> check box to have any invalid user procedures recompiled during a metadata validate.</p>
                                        <p>
                                            <img src="../Images/Install_Images/RED_updatecommanfs.png" />
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>