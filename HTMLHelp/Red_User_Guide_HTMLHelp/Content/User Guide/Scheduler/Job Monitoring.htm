<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="../../../" data-mc-toc-path="Scheduler |Scheduler Options|Monitoring the Database and Jobs" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="msapplication-config" content="../../../Skins/Favicons/browserconfig.xml" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" /><title>Job Monitoring</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/wmd-onlinehelp-style.css" rel="stylesheet" type="text/css" />
        <link href="../../Resources/tablestyles/note.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link rel="icon" sizes="16x16" href="../../../Skins/Favicons/favicon-16x16.png" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
    </head>
    <body>
        <div class="nocontent">
            <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider=" &gt; " data-mc-breadcrumbs-count="3" data-mc-toc="True"><span class="MCBreadcrumbsPrefix">You are here: </span>
            </div>
        </div>
        <div role="main" id="mc-main-content">
            <h3 class="Heading3">Job Monitoring</h3>
            <p class="BodyText">The external monitoring process regularly monitors jobs running in the scheduler and provides notifications when certain conditions occur. By default, the interval between the monitoring of jobs is 15 minutes. This interval can be overridden during the setup of the external job monitor. Refer to the <span class="mc-variable WS_Branding.Product variable">RED</span> Installation Guide for details.</p>
            <p class="BodyText">Job monitoring is defined by selecting the <b>Monitor &gt; Job Monitoring</b> menu option from the Scheduler window, or from the stand-alone scheduler maintenance program. </p>
            <p class="BodyText">
                <img src="../../Images/UserGuide_Images/Scheduler/Job Monitoring_1.png" />
            </p>
            <p class="BodyText">When this menu option is selected a check is made to ensure that the external monitor process is active. If the external process has not reported in the last 24 hours, the following message appears:</p>
            <p class="BodyText">
                <img src="../../Images/UserGuide_Images/Scheduler/Database Monitoring.png" />
            </p>
            <p class="BodyText">In such a case, the external monitoring process on the UNIX platform needs to be checked or started. Refer to the <span class="mc-variable WS_Branding.Product variable">RED</span> Installation Guide for instructions on how to maintain the external monitoring process.</p>
            <p class="BodyText">The following window is displayed:</p>
            <p class="BodyText">
                <img src="../../Images/UserGuide_Images/Scheduler/Job Monitoring.png" />
            </p>
            <p class="BodyText">In this example, the job called 'Enterprise Reporting Daily Refresh' is being monitored. The days Monday through Friday are checked, so monitoring will occur on these days. The nominal start time is 04:00 am. Notifications occur if the following conditions occur.</p>
            <ol>
                <li value="1">The job fails to start within 60 minutes of this nominal start time.</li>
                <li value="2">The job fails to finish within 240 minutes (4 hours) of the nominal start time.</li>
                <li value="3">Errors occur while the job is running</li>
                <li value="4">The job fails with errors.</li>
            </ol>
            <p class="BodyText">In the above example screen, the user has created an <b>Action Script</b> called 'monitor_db_mail' and saved it is a host script object type in <span class="mc-variable WS_Branding.Product variable">RED</span>. This host script is used in all conditions defined above that could cause a notification to occur.</p>
            <h4>Monitor Days</h4>
            <p class="BodyText">When defining monitoring for a job, one or more days need to be selected. As well as the normal week days, there is also the first and last day of the month. Using these two special days, it is possible to monitor a job that is critical at the end or start of a month. If Monday through Sunday are checked, then it would not be necessary to set the special days. The monitoring day is the day on which the job starts (or could start).&#160; </p>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/tablestyles/note.css');" class="TableStyle-note" cellspacing="0">
                <col class="TableStyle-note-Column-Column1" />
                <thead>
                    <tr class="TableStyle-note-Head-Header1">
                        <th class="TableStyle-note-HeadD-Column1-Header1">Note:</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-note-Body-Body1">
                        <td class="TableStyle-note-BodyA-Column1-Body1" role="rowheader">The monitoring day is the day of the absolute minimum start time of a job. For example, if we wish to monitor a job that starts at 00:01, and which has an earliest possible start of 5 minutes earlier (e.g. 23:56), then we need to set monitoring for the day of the earliest possible start. Therefore, to monitor the Monday morning run, we must also have the Sunday check box selected.</td>
                    </tr>
                </tbody>
            </table>
            <h4>Nominal Start Time</h4>
            <p class="BodyText">The nominal start time is the time at which the job will normally start. This field must be populated for all jobs being monitored, even if not used. Monitoring is optimized for daily jobs, so this field is normally set to the start time of the job.</p>
            <h4>Earliest Possible Start</h4>
            <p class="BodyText">The earliest possible start field allows for the setting of a possible start time before the nominal start time. In most situations, this field is set to 0. When setting to a value other than zero, the impact of the potential start time on the days being monitored needs to be considered. See the note under the <b>Monitor Days</b> section above. The nominal start time less the earliest possible start time, provides an <b>Absolute Minimum Start Time</b> which is used by most of the notification conditions, as well as the monitor days.</p>
            <h4>Periodicity of Job</h4>
            <p class="BodyText">The periodicity defines the interval between iterations of the job. For a daily job, this would be 24 hours and 0 minutes or 2400. This periodicity is used by the monitoring software to ascertain if a job being examined is the current iteration of the job or a previous iteration.</p>
            <h4>Notification Order</h4>
            <p class="BodyText">Notifications are processed in the following order. If a notification is sent for a job, then no further notification checks are made for that job.</p>
            <ol>
                <li value="1">Finish Error</li>
                <li value="2">Finish Warning</li>
                <li value="3">Finish Success</li>
                <li value="4">Must Finish In</li>
                <li value="5">Run Error</li>
                <li value="6">Run Warning</li>
                <li value="7">Checkpoint 3</li>
                <li value="8">Checkpoint 2</li>
                <li value="9">Checkpoint 1</li>
                <li value="10">Must Start Within</li>
            </ol>
            <p class="BodyText">To fully cover all possible events it is usually necessary to set multiple notifications.</p>
            <h4>Must Start Within (Notification)</h4>
            <p class="BodyText">The <b>Must Start Within</b> notification allows notification when a job fails to start within a specified number of minutes of the absolute minimum start time. In the example above, the job must start within 60 minutes of the start time.</p>
            <p class="BodyText">If this criteria is not met, then the monitoring software will look at the <b>Action Script</b> and <b>Parameter to Script</b> fields to ascertain how to process the notification. If an action script has been defined, then this script is executed in the UNIX environment and is passed the defined parameters. If a script is not defined, then the <b>Parameter to Script</b> field is executed in the UNIX environment.</p>
            <h4>Must Finish In (Notification)</h4>
            <p class="BodyText">The <b>Must Finish In</b> notification allows notification when a job fails to finish within a specified number of minutes of the absolute minimum start time. In the example above, the job must finish within 4 hours of the start time. See <b>Must Start Within</b> above for the action taken, if the criteria is met.</p>
            <h4>Run Warning Count (Notification)</h4>
            <p class="BodyText">The <b>Run Warning Count</b> notification allows notification when a job exceeds a specified number of warning messages whilst running. This notification <b>only occurs when a job is running</b>. If the job has failed to start, has finished or failed before the external monitor checks the number of warnings this notification will be ignored. See <b>Must Start Within</b> above for the action taken, if the criteria is met.</p>
            <h4>Run Error Count (Notification)</h4>
            <p class="BodyText">The <b>Run Error Count</b> notification allows notification when a job exceeds a specified number of error messages whilst running. This notification <b> only occurs when a job is running</b>. If the job has failed to start, has finished or failed before the external monitor checks the number of errors this notification is ignored. See <b>Must Start Within</b> above for the action taken, if the criteria is met.</p>
            <h4>Finish Warning Count (Notification)</h4>
            <p class="BodyText">The <b>Finish Warning Count</b> notification allows notification when a job has exceeded a specified number of warning messages and has completed or failed. This notification <b>only occurs when a job has completed or failed</b>. If the job has failed to start or is still running when the external monitor checks the number of warnings, this notification is ignored. See <b>Must Start Within</b> above for the action taken, if the criteria is met.</p>
            <h4>Finish Error Count (Notification)</h4>
            <p class="BodyText">The <b>Finish Error Count</b> notification allows notification when a job has exceeded a specified number of error messages and has failed. This notification <b>only occurs when a job has failed</b>. If the job is still running when the external monitor checks the number of warnings, this notification is ignored. If the job has been restarted and gone on to complete normally, this notification is ignored even when errors have occurred. See <b>Must Start Within</b> above for the action taken, if the criteria is met.</p>
            <h4>Finish Success (Notification)</h4>
            <p class="BodyText">The <b>Finish Success</b> notification allows notification when a job completes. This notification can be used for example to mail a log of the completed job to a specified user. See <b>Must Start Within</b> above for the action taken, if the criteria is met.</p>
            <h4>Checkpoint 1 (Notification)</h4>
            <p class="BodyText">The <b>Checkpoint 1</b> notification allows notification when a job fails to achieve either a specified number of task completions, or a specified number of information/OK messages within a specified elapsed time. The elapsed time is the time from the absolute minimum start time. This notification <b>only occurs when the job is running</b>. If the job has failed to start, completed or failed when the external monitor checks the checkpoint, this notification is ignored. See <b>Must Start Within</b> above for the action taken, if the criteria is not met.</p>
            <h4>Checkpoint 2 (Notification)</h4>
            <p class="BodyText">The <b>Checkpoint 2</b> notification allows notification when a job fails to achieve either a specified number of task completions, or a specified number of information/OK messages within a specified elapsed time. The elapsed time is the time from the absolute minimum start time. This notification <b>only occurs when the job is running</b>. If the job has failed to start, completed or failed when the external monitor checks the checkpoint, this notification is ignored. See <b>Must Start Within</b> above for the action taken, if the criteria is not met.</p>
            <h4>Checkpoint 3 (Notification)</h4>
            <p class="BodyText">The <b>Checkpoint 3</b> notification allows notification when a job fails to achieve either a specified number of task completions, or a specified number of information/OK messages within a specified elapsed time. The elapsed time is the time from the absolute minimum start time. This notification <b>only occurs when the job is running</b>. If the job has failed to start, completed or failed when the external monitor checks the checkpoint, this notification is ignored. See <b>Must Start Within</b> above for the action taken, if the criteria is not met.</p>
        </div>
    </body>
</html>